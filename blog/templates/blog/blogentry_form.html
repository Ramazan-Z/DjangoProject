{% extends 'blog/base.html' %}

{% block title %}Новая запись{% endblock %}

{% block content %}

{% include "blog/includes/navbar.html" %}

<div class="container">
    <div class="card mb-4 box-shadow">
        <div class="card-header">
            <h4 class="my-0 font-weight-normal">Заполните форму</h4>
        </div>
        <div class="card-body">
            <form method="post" class="form-floating">
                {% csrf_token %}
                <div class="mb-3">
                    {{ form.heading.label_tag }}
                    <input type="text" name="{{ form.heading.name }}" value="{{ blogentry.heading }}" required=""
                        id="{{ form.heading.id_for_label}}" placeholder="{{ form.heading.help_text }}"
                        class="form-control">
                </div>
                <div class="mb-3">
                    {{ form.content.label_tag }}
                    <textarea name="{{ form.content.name }}" cols="40" rows="10" id="{{ form.content.id_for_label }}"
                        placeholder="{{ form.content.help_text }}"
                        class="form-control">{{ blogentry.content }}</textarea>
                </div>
                <div class="mb-3">
                    {{ form.preview.label_tag }}
                    <input type="file" name="{{ form.preview.name }}" accept="image/*"
                        id="{{ form.preview.id_for_label }}" class="form-control">
                </div>
                <div class="mb-3">
                    {{ form.is_publication.label_tag }}
                    <input type="checkbox" name="{{ form.is_publication.name }}"
                        id="{{ form.is_publication.id_for_label }}" value="{{ blogentry.is_publication }}">
                </div>
                <button type="submit" class="btn btn-primary">Сохранить</button>
                <a href="{% url 'blog:blogentry_detail' blogentry.pk %}" class="btn btn-secondary">Отмена</a>
            </form>
        </div>
    </div>
    {% include "blog/includes/footer.html" %}
</div>
{% endblock %}